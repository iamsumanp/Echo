---
phase: 02-theme-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [Sources/Echo/Views/ContentView.swift]
autonomous: false
requirements: [UI-01, UI-02]

must_haves:
  truths:
    - "Right detail panel has a visibly lighter background than the left list panel"
    - "Selected item highlight is gray/white instead of system blue"
  artifacts:
    - path: "Sources/Echo/Views/ContentView.swift"
      provides: "Updated theme colors"
  key_links:
    - from: "ContentView.swift"
      to: "UI-01"
      via: "Right pane background opacity update"
    - from: "ContentView.swift"
      to: "UI-02"
      via: "Selection highlight opacity update"
---

<objective>
Unify the visual theme by adjusting panel background contrast and selection highlight color to match the desired dark aesthetic.

Purpose: Improve visual hierarchy and remove distracting system-default blue highlights.
Output: Updated ContentView.swift with refined opacity values.
</objective>

<execution_context>
@/Users/boski/.gemini/get-shit-done/workflows/execute-plan.md
@/Users/boski/.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-theme-polish/RESEARCH.md
@Sources/Echo/Views/ContentView.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update theme opacities in ContentView.swift</name>
  <files>Sources/Echo/Views/ContentView.swift</files>
  <action>
    Update the following opacity values in `Sources/Echo/Views/ContentView.swift`:
    1. Right Pane Background: Find the `VStack` for the right pane (around line 89) and change `Color.white.opacity(0.04)` to `Color.white.opacity(0.08)`.
    2. Selection Highlight: In the `rowView` function (around line 257), update the `.listRowBackground` fill color for the selected state. Change `Color.white.opacity(0.12)` to `Color.white.opacity(0.2)`.

    Refer to `.planning/phases/02-theme-polish/RESEARCH.md` for the rationale behind these values.
  </action>
  <verify>
    Verify that the values are correctly updated in `Sources/Echo/Views/ContentView.swift`.
    Build the project to ensure no syntax errors were introduced: `swift build`
  </verify>
  <done>
    Right pane opacity is 0.08 and selection highlight opacity is 0.2.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of theme changes</name>
  <files>None</files>
  <action>
    Perform manual verification of the UI changes:
    1. Run the app: `swift run Echo`.
    2. Observe the right detail panel. It should be slightly lighter/cleaner than the left panel.
    3. Use the arrow keys to navigate the list. The selection highlight should be a neutral gray/off-white overlay, not blue.
    4. Confirm the visual separation between panes is clear but subtle.
  </action>
  <verify>
    User confirms visual changes are acceptable and match the goal.
  </verify>
  <done>
    Visual theme changes approved.
  </done>
</task>

</tasks>

<verification>
Check that right panel contrast is improved and selection color is gray.
</verification>

<success_criteria>
1. Right detail panel background is `Color.white.opacity(0.08)`.
2. Selected item highlight is `Color.white.opacity(0.2)`.
3. App builds and runs without issues.
</success_criteria>

<output>
After completion, create `.planning/phases/02-theme-polish/02-01-SUMMARY.md`
</output>
